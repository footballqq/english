# kid_quiz 使用说明（基于 razfulltranslate3.csv 与 localStorage）

## 运行方式
- 推荐：在本目录启动本地静态服务（例如 `python -m http.server 8000`），用浏览器访问 `http://localhost:8000/kid_quiz.html`。无需外网。
- 若直接双击 `kid_quiz.html` 打开 `file://`，现代浏览器会拦截 `fetch` 读取本地 CSV；可选择：
  - 启动本地服务（推荐），或
  - 启动 Chrome 时加 `--allow-file-access-from-files`（不太安全），或
  - 在页面里添加“选择 CSV 文件”读取本地文件（当前未实现）。

## 基本操作
1. **选择与设置**  
   - 级别：从 `razfulltranslate3.csv` 动态读取 RAZ 等级。  
   - 模式：考试 / 复习。  
   - 题源：全部单词 / 只出错题本 / 排除已掌握 / 仅已掌握（复习模式只支持全部或错题本）。  
   - 题量：默认 20（复习模式每轮 5 个）。
2. **考试模式**  
   - 按设置生成题目，显示英文，点“认识/不认识”。  
   - 答错加入错题本；答对从错题本移除并加入已掌握本。  
   - 结果页可复制当前等级错题或清空错题本。
3. **复习模式**  
   - 按等级或错题本出题。先显示英文，点击“显示中文”查看释义，再标记认识/不认识。  
   - 认识：从错题本移除并加入已掌握本；不认识：留在错题本。
4. **数据存储**  
   - 错题本、已掌握本保存在浏览器 `localStorage`，按等级区分。清理浏览器数据或换设备会丢失记录。

## 艾宾浩斯复习提示
- 采用阶梯间隔（天）：错题 `[1,2,4,7,15,30]`；已掌握 `[3,7,14,30]`。  
  - 错题：按 `wrong_count` 取对应间隔，超过间隔即提示复习。  
  - 已掌握：按 `review_count` 取对应间隔，超过间隔提示巩固。
- 提示区域会列出各等级待复习数量，并提供一键“复习错题 / 巩固已掌握”按钮（自动切换到复习模式并出题）。

## 注意事项
- 保持 `kid_quiz.html` 与 `razfulltranslate3.csv` 同目录。  
- 移动端/平板建议添加到主屏幕，避免误触刷新丢失进度。  
- 如果需要内联 CSV 或文件选择读取，可后续再做轻量改造。
